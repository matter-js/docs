<!DOCTYPE html><html class="default" lang="en"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>QueryImageResponse | matter.js-monorepo</title><meta name="description" content="Documentation for matter.js-monorepo"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script><style>
@media (prefers-color-scheme: dark) {
  :root {
    --md-sys-color-primary: #f6be46;
    --md-sys-color-on-primary: #412d00;
    --md-sys-color-primary-container: #5d4200;
    --md-sys-color-on-primary-container: #ffdea3;
    --md-sys-color-secondary: #d9c4a0;
    --md-sys-color-on-secondary: #3b2f15;
    --md-sys-color-secondary-container: #53452a;
    --md-sys-color-on-secondary-container: #f6e0bb;
    --md-sys-color-tertiary: #b2cfa8;
    --md-sys-color-on-tertiary: #1e361a;
    --md-sys-color-tertiary-container: #344d2f;
    --md-sys-color-on-tertiary-container: #cdebc2;
    --md-sys-color-error: #ffb4ab;
    --md-sys-color-on-error: #690005;
    --md-sys-color-error-container: #93000a;
    --md-sys-color-on-error-container: #ffb4ab;
    --md-sys-color-background: #1e1b16;
    --md-sys-color-on-background: #e9e1d9;
    --md-sys-color-surface: #1e1b16;
    --md-sys-color-on-surface: #e9e1d9;
    --md-sys-color-surface-variant: #4e4639;
    --md-sys-color-on-surface-variant: #d1c5b4;
    --md-sys-color-outline: #9a8f80;
    --md-sys-color-outline-variant: #4e4639;
    --md-sys-color-shadow: #000000;
    --md-sys-color-scrim: #000000;
    --md-sys-color-inverse-surface: #e9e1d9;
    --md-sys-color-inverse-on-surface: #34302a;
    --md-sys-color-inverse-primary: #7a5900;
    --md-sys-color-surface-dim: #16130e;
    --md-sys-color-surface-bright: #3d3933;
    --md-sys-color-surface-container-lowest: #110e09;
    --md-sys-color-surface-container-low: #1e1b16;
    --md-sys-color-surface-container: #221f1a;
    --md-sys-color-surface-container-high: #2d2924;
    --md-sys-color-surface-container-highest: #38342e
  }
}
:root[data-theme="dark"] {
  --md-sys-color-primary: #f6be46;
  --md-sys-color-on-primary: #412d00;
  --md-sys-color-primary-container: #5d4200;
  --md-sys-color-on-primary-container: #ffdea3;
  --md-sys-color-secondary: #d9c4a0;
  --md-sys-color-on-secondary: #3b2f15;
  --md-sys-color-secondary-container: #53452a;
  --md-sys-color-on-secondary-container: #f6e0bb;
  --md-sys-color-tertiary: #b2cfa8;
  --md-sys-color-on-tertiary: #1e361a;
  --md-sys-color-tertiary-container: #344d2f;
  --md-sys-color-on-tertiary-container: #cdebc2;
  --md-sys-color-error: #ffb4ab;
  --md-sys-color-on-error: #690005;
  --md-sys-color-error-container: #93000a;
  --md-sys-color-on-error-container: #ffb4ab;
  --md-sys-color-background: #1e1b16;
  --md-sys-color-on-background: #e9e1d9;
  --md-sys-color-surface: #1e1b16;
  --md-sys-color-on-surface: #e9e1d9;
  --md-sys-color-surface-variant: #4e4639;
  --md-sys-color-on-surface-variant: #d1c5b4;
  --md-sys-color-outline: #9a8f80;
  --md-sys-color-outline-variant: #4e4639;
  --md-sys-color-shadow: #000000;
  --md-sys-color-scrim: #000000;
  --md-sys-color-inverse-surface: #e9e1d9;
  --md-sys-color-inverse-on-surface: #34302a;
  --md-sys-color-inverse-primary: #7a5900;
  --md-sys-color-surface-dim: #16130e;
  --md-sys-color-surface-bright: #3d3933;
  --md-sys-color-surface-container-lowest: #110e09;
  --md-sys-color-surface-container-low: #1e1b16;
  --md-sys-color-surface-container: #221f1a;
  --md-sys-color-surface-container-high: #2d2924;
  --md-sys-color-surface-container-highest: #38342e
}

@media (prefers-color-scheme: light) {
  :root {
    --md-sys-color-primary: #7a5900;
    --md-sys-color-on-primary: #ffffff;
    --md-sys-color-primary-container: #ffdea3;
    --md-sys-color-on-primary-container: #261900;
    --md-sys-color-secondary: #6c5c3f;
    --md-sys-color-on-secondary: #ffffff;
    --md-sys-color-secondary-container: #f6e0bb;
    --md-sys-color-on-secondary-container: #251a04;
    --md-sys-color-tertiary: #4b6545;
    --md-sys-color-on-tertiary: #ffffff;
    --md-sys-color-tertiary-container: #cdebc2;
    --md-sys-color-on-tertiary-container: #092007;
    --md-sys-color-error: #ba1a1a;
    --md-sys-color-on-error: #ffffff;
    --md-sys-color-error-container: #ffdad6;
    --md-sys-color-on-error-container: #410002;
    --md-sys-color-background: #fffbff;
    --md-sys-color-on-background: #1e1b16;
    --md-sys-color-surface: #fffbff;
    --md-sys-color-on-surface: #1e1b16;
    --md-sys-color-surface-variant: #ede1cf;
    --md-sys-color-on-surface-variant: #4e4639;
    --md-sys-color-outline: #7f7667;
    --md-sys-color-outline-variant: #d1c5b4;
    --md-sys-color-shadow: #000000;
    --md-sys-color-scrim: #000000;
    --md-sys-color-inverse-surface: #34302a;
    --md-sys-color-inverse-on-surface: #f8efe7;
    --md-sys-color-inverse-primary: #f6be46;
    --md-sys-color-surface-dim: #e1d9d0;
    --md-sys-color-surface-bright: #fff8f2;
    --md-sys-color-surface-container-lowest: #ffffff;
    --md-sys-color-surface-container-low: #fbf2e9;
    --md-sys-color-surface-container: #f5ede4;
    --md-sys-color-surface-container-high: #efe7de;
    --md-sys-color-surface-container-highest: #e9e1d9
  }
}
:root[data-theme="light"] {
  --md-sys-color-primary: #7a5900;
  --md-sys-color-on-primary: #ffffff;
  --md-sys-color-primary-container: #ffdea3;
  --md-sys-color-on-primary-container: #261900;
  --md-sys-color-secondary: #6c5c3f;
  --md-sys-color-on-secondary: #ffffff;
  --md-sys-color-secondary-container: #f6e0bb;
  --md-sys-color-on-secondary-container: #251a04;
  --md-sys-color-tertiary: #4b6545;
  --md-sys-color-on-tertiary: #ffffff;
  --md-sys-color-tertiary-container: #cdebc2;
  --md-sys-color-on-tertiary-container: #092007;
  --md-sys-color-error: #ba1a1a;
  --md-sys-color-on-error: #ffffff;
  --md-sys-color-error-container: #ffdad6;
  --md-sys-color-on-error-container: #410002;
  --md-sys-color-background: #fffbff;
  --md-sys-color-on-background: #1e1b16;
  --md-sys-color-surface: #fffbff;
  --md-sys-color-on-surface: #1e1b16;
  --md-sys-color-surface-variant: #ede1cf;
  --md-sys-color-on-surface-variant: #4e4639;
  --md-sys-color-outline: #7f7667;
  --md-sys-color-outline-variant: #d1c5b4;
  --md-sys-color-shadow: #000000;
  --md-sys-color-scrim: #000000;
  --md-sys-color-inverse-surface: #34302a;
  --md-sys-color-inverse-on-surface: #f8efe7;
  --md-sys-color-inverse-primary: #f6be46;
  --md-sys-color-surface-dim: #e1d9d0;
  --md-sys-color-surface-bright: #fff8f2;
  --md-sys-color-surface-container-lowest: #ffffff;
  --md-sys-color-surface-container-low: #fbf2e9;
  --md-sys-color-surface-container: #f5ede4;
  --md-sys-color-surface-container-high: #efe7de;
  --md-sys-color-surface-container-highest: #e9e1d9
}
</style><link rel="stylesheet" href="../assets/material-style.css"/></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base=".."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">matter.js-monorepo</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb"><li><a href="../modules.html">matter.js-monorepo</a></li><li><a href="../modules/_matter_types.html">@matter/types</a></li><li><a href="../modules/_matter_types.clusters_ota_software_update_provider.html">clusters/ota-software-update-provider</a></li><li><a href="../modules/_matter_types.clusters_ota_software_update_provider.OtaSoftwareUpdateProvider.html">OtaSoftwareUpdateProvider</a></li><li><a href="_matter_types.clusters_ota_software_update_provider.OtaSoftwareUpdateProvider.QueryImageResponse.html">QueryImageResponse</a></li></ul><h1>Interface QueryImageResponse</h1></div><section class="tsd-panel tsd-comment"><div class="tsd-comment tsd-typography"><div class="tsd-tag-See"><h4 class="tsd-anchor-link"><a id="See" class="tsd-anchor"></a>See<a href="#See" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>MatterSpecification.v13.Core § 11.20.6.5.2</p>
</div></div></section><div class="tsd-signature"><span class="tsd-signature-keyword">interface </span><span class="tsd-kind-interface">QueryImageResponse</span> <span class="tsd-signature-symbol">{ </span><br/><span>    </span><a class="tsd-kind-property" href="_matter_types.clusters_ota_software_update_provider.OtaSoftwareUpdateProvider.QueryImageResponse.html#delayedActionTime">delayedActionTime</a><span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><a class="tsd-kind-property" href="_matter_types.clusters_ota_software_update_provider.OtaSoftwareUpdateProvider.QueryImageResponse.html#imageUri">imageUri</a><span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><a class="tsd-kind-property" href="_matter_types.clusters_ota_software_update_provider.OtaSoftwareUpdateProvider.QueryImageResponse.html#metadataForRequestor">metadataForRequestor</a><span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">Uint8Array</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><a class="tsd-kind-property" href="_matter_types.clusters_ota_software_update_provider.OtaSoftwareUpdateProvider.QueryImageResponse.html#softwareVersion">softwareVersion</a><span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><a class="tsd-kind-property" href="_matter_types.clusters_ota_software_update_provider.OtaSoftwareUpdateProvider.QueryImageResponse.html#softwareVersionString">softwareVersionString</a><span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><a class="tsd-kind-property" href="_matter_types.clusters_ota_software_update_provider.OtaSoftwareUpdateProvider.QueryImageResponse.html#status">status</a><span class="tsd-signature-symbol">: </span><a href="../modules/_matter_types.clusters_ota_software_update_provider.OtaSoftwareUpdateProvider.html" class="tsd-signature-type tsd-kind-namespace">OtaSoftwareUpdateProvider</a><span class="tsd-signature-symbol">.</span><a href="../enums/_matter_types.clusters_ota_software_update_provider.OtaSoftwareUpdateProvider.Status.html" class="tsd-signature-type tsd-kind-enum">Status</a><span class="tsd-signature-symbol">; </span><br/><span>    </span><a class="tsd-kind-property" href="_matter_types.clusters_ota_software_update_provider.OtaSoftwareUpdateProvider.QueryImageResponse.html#updateToken">updateToken</a><span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">Uint8Array</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><a class="tsd-kind-property" href="_matter_types.clusters_ota_software_update_provider.OtaSoftwareUpdateProvider.QueryImageResponse.html#userConsentNeeded">userConsentNeeded</a><span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span></div><section class="tsd-panel tsd-hierarchy"><h4>Hierarchy (<a href="../hierarchy.html#@matter/types.clusters/ota-software-update-provider.OtaSoftwareUpdateProvider.QueryImageResponse">view full</a>)</h4><ul class="tsd-hierarchy"><li><a href="../types/_matter_types._.TypeFromSchema.html" class="tsd-signature-type tsd-kind-type-alias">TypeFromSchema</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-keyword">typeof </span><a href="../modules/_matter_types.clusters_ota_software_update_provider.OtaSoftwareUpdateProvider.html" class="tsd-signature-type tsd-kind-namespace">OtaSoftwareUpdateProvider</a><span class="tsd-signature-symbol">.</span><a href="../variables/_matter_types.clusters_ota_software_update_provider.OtaSoftwareUpdateProvider.TlvQueryImageResponse.html" class="tsd-signature-type tsd-kind-variable">TlvQueryImageResponse</a><span class="tsd-signature-symbol">&gt;</span><ul class="tsd-hierarchy"><li><span class="target">QueryImageResponse</span></li></ul></li></ul></section><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/lauckhart/matter.js/blob/fea54aba9b34bc23041aa37c7fff8438025dd60c/packages/types/src/clusters/ota-software-update-provider.ts#L396">packages/types/src/clusters/ota-software-update-provider.ts:396</a></li></ul></aside><section class="tsd-panel-group tsd-index-group"><section class="tsd-panel tsd-index-panel"><details class="tsd-index-content tsd-accordion" open><summary class="tsd-accordion-summary tsd-index-summary"><h5 class="tsd-index-heading uppercase" role="button" aria-expanded="false" tabIndex="0"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-chevronSmall"></use></svg> Index</h5></summary><div class="tsd-accordion-details"><section class="tsd-index-section"><h3 class="tsd-index-heading">Properties</h3><div class="tsd-index-list"><a href="_matter_types.clusters_ota_software_update_provider.OtaSoftwareUpdateProvider.QueryImageResponse.html#delayedActionTime" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>delayed<wbr/>Action<wbr/>Time?</span></a>
<a href="_matter_types.clusters_ota_software_update_provider.OtaSoftwareUpdateProvider.QueryImageResponse.html#imageUri" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>image<wbr/>Uri?</span></a>
<a href="_matter_types.clusters_ota_software_update_provider.OtaSoftwareUpdateProvider.QueryImageResponse.html#metadataForRequestor" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>metadata<wbr/>For<wbr/>Requestor?</span></a>
<a href="_matter_types.clusters_ota_software_update_provider.OtaSoftwareUpdateProvider.QueryImageResponse.html#softwareVersion" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>software<wbr/>Version?</span></a>
<a href="_matter_types.clusters_ota_software_update_provider.OtaSoftwareUpdateProvider.QueryImageResponse.html#softwareVersionString" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>software<wbr/>Version<wbr/>String?</span></a>
<a href="_matter_types.clusters_ota_software_update_provider.OtaSoftwareUpdateProvider.QueryImageResponse.html#status" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>status</span></a>
<a href="_matter_types.clusters_ota_software_update_provider.OtaSoftwareUpdateProvider.QueryImageResponse.html#updateToken" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>update<wbr/>Token?</span></a>
<a href="_matter_types.clusters_ota_software_update_provider.OtaSoftwareUpdateProvider.QueryImageResponse.html#userConsentNeeded" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>user<wbr/>Consent<wbr/>Needed?</span></a>
</div></section></div></details></section></section><details class="tsd-panel-group tsd-member-group tsd-accordion" open><summary class="tsd-accordion-summary" data-key="section-Properties"><h2><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg> Properties</h2></summary><section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="delayedActionTime" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Optional</code><span>delayed<wbr/>Action<wbr/>Time</span><a href="#delayedActionTime" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">delayed<wbr/>Action<wbr/>Time</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol"> = ...</span></div><div class="tsd-comment tsd-typography"><p>This field shall convey the minimum time to wait, in seconds from the time of this response, before sending
another QueryImage command or beginning a download from the OTA Provider. OTA Requestors shall respect this
minimum delay, unless they had previously restarted and lost track of it. OTA Providers SHOULD expect OTA
Requestors to follow this value to their best capability, however, a restarting Node may come back sooner,
due to having lost track of this state response.</p>
<p>The DelayedActionTime field shall only be present if the Status field is set to Busy.</p>
<p>See Section 11.20.3.2, “Querying the OTA Provider” for details about the rules regarding this field.</p>
</div><div class="tsd-comment tsd-typography"><div class="tsd-tag-See"><h4 class="tsd-anchor-link"><a id="See-1" class="tsd-anchor"></a>See<a href="#See-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>MatterSpecification.v13.Core § 11.20.6.5.2.2</p>
</div></div><aside class="tsd-sources"><p>Inherited from TypeFromSchema.delayedActionTime</p><ul><li>Defined in <a href="https://github.com/lauckhart/matter.js/blob/fea54aba9b34bc23041aa37c7fff8438025dd60c/packages/types/src/clusters/ota-software-update-provider.ts#L224">packages/types/src/clusters/ota-software-update-provider.ts:224</a></li></ul></aside></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="imageUri" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Optional</code><span>image<wbr/>Uri</span><a href="#imageUri" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">image<wbr/>Uri</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> = ...</span></div><div class="tsd-comment tsd-typography"><p>This field, when present, shall contain a URI where the OTA Requestor SHOULD download a Software Image. The
syntax of the ImageURI field shall follow the URI syntax as specified in RFC 3986.</p>
<p>This field shall be present if it appears in a QueryImageResponse with a Status of UpdateAvailable.</p>
<p>If the ImageURI specifies a BDX Protocol bdx: scheme, then the following rules describe the location to be
used for download:</p>
<ol>
<li>
<p>The URI’s scheme field shall be exactly bdx in lowercase characters.</p>
</li>
<li>
<p>The URI’s authority field shall contain only the host portion and shall use string representation of
the Operational Node ID of the Node where to proceed with the download, on the same Fabric on which the
OTA Requestor received the QueryImageResponse.</p>
</li>
<li>
<p>The encoding of the Node ID in the host field shall use an uppercase hexadecimal format, using exactly
16 characters to encode the network byte order value of the NodeID, in a similar fashion as the Node
Identifier portion of the Operational Instance Name.</p>
</li>
</ol>
<pre><code>a. The Operational Node ID in the host field shall match the NodeID of the OTA Provider responding with
   the QueryImageResponse. The usage of a different Node ID than that of the provider is reserved for
   future use. This constraint reduces the number of independent
</code></pre>
<p>CASE secure channel sessions that have to be maintained to proceed with OTA software updates, thus reducing
energy and resource utilization for the software update process.</p>
<ol start="4">
<li>
<p>The user section of the authority field shall be absent, as there are no &quot;users&quot; to be considered.</p>
</li>
<li>
<p>The port section of the authority field shall be absent, as the port for transport shall be determined
through Operational Discovery of the target Node.</p>
</li>
<li>
<p>The URI shall not contain a query field.</p>
</li>
<li>
<p>The URI shall not contain a fragment field.</p>
</li>
<li>
<p>The path field shall employ absolute path representation and shall contain the file designator of the
software image to download at the BDX server. When used with the BDX server, the leading / separating the
URI authority from the path shall be omitted. When contacting the BDX server, further processing of the file
designator shall NOT be done, including handling of URL-encoded escape sequences. Rather, the exact octets
of the path, as received shall be the values used by both client and server in handling the file designator.</p>
</li>
</ol>
<p>a. The path shall only contain valid URI characters.</p>
<p>These rules above for BDX URIs simplify parsing for OTA Requestors receiving Image URIs. The following
example procedure shows how the format constraints simplify the extraction of the necessary data to reach
the BDX server for download.</p>
<ol>
<li>
<p>Verify that the URI is 24 characters or longer, which is the minimum length of a valid BDX URI with all
elements present, for example bdx://00112233AABBCCDD/0.</p>
</li>
<li>
<p>Verify the presence of prefix bdx:// indicating a BDX URI.</p>
</li>
<li>
<p>Extract the next 16 characters and convert from uppercase hexadecimal to a 64-bit scalar value,
considering network byte order. This is the destination Node ID.</p>
</li>
<li>
<p>Verify the presence of a path separator / and skip it.</p>
</li>
<li>
<p>Extract the remaining characters of the string as the file designator to employ when initiating the BDX
transfer.</p>
</li>
</ol>
<p>Example ImageURI values are below, and illustrate some but not all of valid and invalid cases:</p>
<p>• Synchronous or Asynchronous BDX Protocol:</p>
<pre><code>◦ Valid: bdx://8899AABBCCDDEEFF/the_file_designator123

  ▪ Node ID: 0x8899AABBCCDDEEFF

  ▪ File designator: the_file_designator123

◦ Valid: bdx://0099AABBCCDDEE77/the%20file%20designator/some_more

  ▪ Node ID: 0x0099AABBCCDDEE77

  ▪ File designator: the%20file%20designator/some_more. Note that the %20 are retained and not converted
    to ASCII 0x20 (space). The file designator is the path as received verbatim, after the first '/'
    (U+002F / SOLIDUS) following the host.

◦ Invalid: bdx://99AABBCCDDEE77/the_file_designator123

  ▪ Node ID: Invalid since it is not exactly 16 characters long, due to having omitted leading zeros.

◦ Invalid: bdx://0099aabbccddee77/the_file_designator123

  ▪ Node ID: Invalid since lowercase hexadecimal was used.

◦ Invalid: bdx:8899AABBCCDDEEFF/the_file_designator123

  ▪ Invalid since bdx scheme does not contain an authority, that is, it does not have // after the first
    :.
</code></pre>
<p>• HTTP over TLS:</p>
<pre><code>◦ Valid: https://example.domain:8466/software/image.bin
</code></pre>
<p>See Section 11.20.3.2, “Querying the OTA Provider” for additional details about the flow.</p>
</div><div class="tsd-comment tsd-typography"><div class="tsd-tag-See"><h4 class="tsd-anchor-link"><a id="See-2" class="tsd-anchor"></a>See<a href="#See-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>MatterSpecification.v13.Core § 11.20.6.5.2.3</p>
</div></div><aside class="tsd-sources"><p>Inherited from TypeFromSchema.imageUri</p><ul><li>Defined in <a href="https://github.com/lauckhart/matter.js/blob/fea54aba9b34bc23041aa37c7fff8438025dd60c/packages/types/src/clusters/ota-software-update-provider.ts#L325">packages/types/src/clusters/ota-software-update-provider.ts:325</a></li></ul></aside></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="metadataForRequestor" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Optional</code><span>metadata<wbr/>For<wbr/>Requestor</span><a href="#metadataForRequestor" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">metadata<wbr/>For<wbr/>Requestor</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">Uint8Array</span><span class="tsd-signature-symbol"> = ...</span></div><div class="tsd-comment tsd-typography"><p>This optional field, if present, shall consist of a top-level anonymous list; each list element shall have a
profile-specific tag encoded in fully-qualified form. Each list element shall contain a
manufacturer-specific payload, which the OTA Provider wants to expose to the receiving OTA Requestor. This
payload may be used for any purpose and SHOULD be as small as practical.</p>
<p>The presence of this field shall NOT be required for correct operation of any OTA Provider compliant with
this Cluster specification.</p>
<p>The data for this field does not exist in any Distributed Compliance Ledger record and SHOULD only be
emitted by an OTA Provider with this additional knowledge if it has knowledge that the receiving OTA
Requestor may be able to use it.</p>
</div><div class="tsd-comment tsd-typography"><div class="tsd-tag-See"><h4 class="tsd-anchor-link"><a id="See-3" class="tsd-anchor"></a>See<a href="#See-3" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>MatterSpecification.v13.Core § 11.20.6.5.2.8</p>
</div></div><aside class="tsd-sources"><p>Inherited from TypeFromSchema.metadataForRequestor</p><ul><li>Defined in <a href="https://github.com/lauckhart/matter.js/blob/fea54aba9b34bc23041aa37c7fff8438025dd60c/packages/types/src/clusters/ota-software-update-provider.ts#L390">packages/types/src/clusters/ota-software-update-provider.ts:390</a></li></ul></aside></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="softwareVersion" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Optional</code><span>software<wbr/>Version</span><a href="#softwareVersion" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">software<wbr/>Version</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol"> = ...</span></div><div class="tsd-comment tsd-typography"><p>This field indicates the version of the image being provided to the OTA Requestor by the OTA Provider when
the Status is UpdateAvailable.</p>
<p>This field shall be present if it appears in a QueryImageResponse with a Status of UpdateAvailable.</p>
<p>See Section 11.20.3.2, “Querying the OTA Provider” for additional details about the flow and acceptable
values.</p>
</div><div class="tsd-comment tsd-typography"><div class="tsd-tag-See"><h4 class="tsd-anchor-link"><a id="See-4" class="tsd-anchor"></a>See<a href="#See-4" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>MatterSpecification.v13.Core § 11.20.6.5.2.4</p>
</div></div><aside class="tsd-sources"><p>Inherited from TypeFromSchema.softwareVersion</p><ul><li>Defined in <a href="https://github.com/lauckhart/matter.js/blob/fea54aba9b34bc23041aa37c7fff8438025dd60c/packages/types/src/clusters/ota-software-update-provider.ts#L338">packages/types/src/clusters/ota-software-update-provider.ts:338</a></li></ul></aside></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="softwareVersionString" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Optional</code><span>software<wbr/>Version<wbr/>String</span><a href="#softwareVersionString" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">software<wbr/>Version<wbr/>String</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> = ...</span></div><div class="tsd-comment tsd-typography"><p>This field provides a string version of the image being provided to the OTA Requestor by the OTA Provider
when the Status is UpdateAvailable.</p>
<p>This field shall be present if it appears in a QueryImageResponse with a Status of UpdateAvailable.</p>
<p>See Section 11.20.3.2, “Querying the OTA Provider” for additional details about the flow and acceptable
values.</p>
</div><div class="tsd-comment tsd-typography"><div class="tsd-tag-See"><h4 class="tsd-anchor-link"><a id="See-5" class="tsd-anchor"></a>See<a href="#See-5" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>MatterSpecification.v13.Core § 11.20.6.5.2.5</p>
</div></div><aside class="tsd-sources"><p>Inherited from TypeFromSchema.softwareVersionString</p><ul><li>Defined in <a href="https://github.com/lauckhart/matter.js/blob/fea54aba9b34bc23041aa37c7fff8438025dd60c/packages/types/src/clusters/ota-software-update-provider.ts#L351">packages/types/src/clusters/ota-software-update-provider.ts:351</a></li></ul></aside></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="status" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>status</span><a href="#status" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">status</span><span class="tsd-signature-symbol">:</span> <a href="../modules/_matter_types.clusters_ota_software_update_provider.OtaSoftwareUpdateProvider.html" class="tsd-signature-type tsd-kind-namespace">OtaSoftwareUpdateProvider</a><span class="tsd-signature-symbol">.</span><a href="../enums/_matter_types.clusters_ota_software_update_provider.OtaSoftwareUpdateProvider.Status.html" class="tsd-signature-type tsd-kind-enum">Status</a><span class="tsd-signature-symbol"> = ...</span></div><div class="tsd-comment tsd-typography"><p>This field shall contain the primary response regarding the availability of a Software Image.</p>
<p>See Section 11.20.3.2, “Querying the OTA Provider” for details about the possible values for this field and
their meaning.</p>
</div><div class="tsd-comment tsd-typography"><div class="tsd-tag-See"><h4 class="tsd-anchor-link"><a id="See-6" class="tsd-anchor"></a>See<a href="#See-6" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>MatterSpecification.v13.Core § 11.20.6.5.2.1</p>
</div></div><aside class="tsd-sources"><p>Inherited from TypeFromSchema.status</p><ul><li>Defined in <a href="https://github.com/lauckhart/matter.js/blob/fea54aba9b34bc23041aa37c7fff8438025dd60c/packages/types/src/clusters/ota-software-update-provider.ts#L209">packages/types/src/clusters/ota-software-update-provider.ts:209</a></li></ul></aside></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="updateToken" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Optional</code><span>update<wbr/>Token</span><a href="#updateToken" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">update<wbr/>Token</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">Uint8Array</span><span class="tsd-signature-symbol"> = ...</span></div><div class="tsd-comment tsd-typography"><p>This optional field shall be present when the Status field contains UpdateAvailable.</p>
<p>See Section 11.20.3.6.1, “UpdateToken usage” for additional details about the generation and usage of
UpdateToken.</p>
</div><div class="tsd-comment tsd-typography"><div class="tsd-tag-See"><h4 class="tsd-anchor-link"><a id="See-7" class="tsd-anchor"></a>See<a href="#See-7" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>MatterSpecification.v13.Core § 11.20.6.5.2.6</p>
</div></div><aside class="tsd-sources"><p>Inherited from TypeFromSchema.updateToken</p><ul><li>Defined in <a href="https://github.com/lauckhart/matter.js/blob/fea54aba9b34bc23041aa37c7fff8438025dd60c/packages/types/src/clusters/ota-software-update-provider.ts#L361">packages/types/src/clusters/ota-software-update-provider.ts:361</a></li></ul></aside></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="userConsentNeeded" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Optional</code><span>user<wbr/>Consent<wbr/>Needed</span><a href="#userConsentNeeded" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">user<wbr/>Consent<wbr/>Needed</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol"> = ...</span></div><div class="tsd-comment tsd-typography"><p>This field, if present, shall only be interpreted if the OTA Requestor had previously indicated a value of
True in the RequestorCanConsent field of the QueryImageRequest. This field, when present and set to True,
shall indicate that a capable OTA Requestor must obtain user-visible consent prior to downloading the OTA
Software Image.</p>
<p>See Section 11.20.3.4, “Obtaining user consent for updating software” for application details about usage.</p>
</div><div class="tsd-comment tsd-typography"><div class="tsd-tag-See"><h4 class="tsd-anchor-link"><a id="See-8" class="tsd-anchor"></a>See<a href="#See-8" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>MatterSpecification.v13.Core § 11.20.6.5.2.7</p>
</div></div><aside class="tsd-sources"><p>Inherited from TypeFromSchema.userConsentNeeded</p><ul><li>Defined in <a href="https://github.com/lauckhart/matter.js/blob/fea54aba9b34bc23041aa37c7fff8438025dd60c/packages/types/src/clusters/ota-software-update-provider.ts#L373">packages/types/src/clusters/ota-software-update-provider.ts:373</a></li></ul></aside></section></section></details></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><details open class="tsd-accordion tsd-page-navigation-section"><summary class="tsd-accordion-summary" data-key="tsd-otp-Properties"><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Properties</summary><div><a href="#delayedActionTime" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>delayed<wbr/>Action<wbr/>Time</span></a><a href="#imageUri" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>image<wbr/>Uri</span></a><a href="#metadataForRequestor" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>metadata<wbr/>For<wbr/>Requestor</span></a><a href="#softwareVersion" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>software<wbr/>Version</span></a><a href="#softwareVersionString" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>software<wbr/>Version<wbr/>String</span></a><a href="#status" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>status</span></a><a href="#updateToken" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>update<wbr/>Token</span></a><a href="#userConsentNeeded" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>user<wbr/>Consent<wbr/>Needed</span></a></div></details></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="../modules.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1"></use></svg><span>matter.js-monorepo</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base=".."><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div><script>
          try {
            const generateLinkElement = document.querySelector(".tsd-generator a");
            const link = document.createElement("a");
            Object.assign(link, {
              href: "https://github.com/dmnsgn/typedoc-material-theme",
              target: "_blank",
              rel: "noreferrer",
              innerText: "typedoc-material-theme."
            });
            generateLinkElement.insertAdjacentElement("afterend", link);
            generateLinkElement.insertAdjacentText("afterend", " with ");
          } catch (error) {

          }
        </script></body></html>
